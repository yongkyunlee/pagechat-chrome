<div class='container'>
    <div>
        Page Chat
    </div>
    <div>
        <p>Current URL</p>
        <p>{{url}}</p>
        <div *ngFor="let str of arr">
            {{str}}
        </div>
        <div>
            {{ (authService.afAuth.user | async)?.uid}}
        </div>
    </div>
    <div *ngIf="authLoaded">
        <button (click)='authService.signInWithGoogle()'
                *ngIf="(authService.afAuth.user | async) === null">
            Sign in with Google
        </button>

        <button (click)='authService.signOut(); inchat=false;'
                *ngIf='authService.afAuth.user | async'>
            Sign Out
        </button>
        
        <!-- TODO replace this with loop of active users -->
        <div *ngIf='!_chatService.inchat'>
            <br>
            <button (click)='updateRoom("AAAAAAAAAAN1zirmemAXrEG4Hex1")'>
                    Mock Friend alpha (click to talk)
            </button>
            <br>
            <button (click)='updateRoom("ZZZZZZZZZZN1zirmemAXrEG4Hex1")'>
                    Mock Friend beta (click to talk)
            </button>
            <br>
            <button (click)='updateRoom("JAILlJfkA0N1zirmemAXrEG4Hex1")'>
                    Inertial Chowder (click to talk)
            </button>
            <br>
            <button (click)='updateRoom("aqcEVGBVIuhz1XFrVPNvnJ6HAOJ3")'>
                    Bechtel 214 (click to talk)
            </button>
            <br>
            <br>
        </div>


        <!-- show open chat button if chat window is closed, and logged in -->
        <button (click)='closeChat()'
                *ngIf='_chatService.inchat && (authService.afAuth.user | async)'>
            Close Chat
        </button>
        
        <!-- show open chat button if chat window is open, and logged in -->
        <button (click)='openChat()'
        *ngIf='!_chatService.inchat && (authService.afAuth.user | async)'>
            Open Last Chat
        </button>
        
        <!-- use inchat to close the window if user selects to close -->
        <app-chat *ngIf='_chatService.inchat && authService.afAuth.user | async'></app-chat>

    </div>
    
    <!-- use above login method instead -->
    <!-- <app-login></app-login> -->

    
</div>

<!-- <router-outlet></router-outlet> -->