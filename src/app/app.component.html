<div class='container'>
    <div>
        Page Chat
    </div>
    <div>
        <p>Current URL</p>
        <p>{{url}}</p>
        <div *ngFor="let str of arr">
            {{str}}
        </div>
        <div>
            {{ (authService.afAuth.user | async)?.uid}}
        </div>
    </div>
    <div *ngIf="authLoaded">
        <button (click)='authService.signInWithGoogle()'
                *ngIf="(authService.afAuth.user | async) === null">
            Sign in with Google
        </button>
        <button (click)='authService.signOut()'
                *ngIf='authService.afAuth.user | async'>
            Sign Out
        </button>
    </div>
    
    <div class="col-3 text-right" *ngIf="_chatService.user.uid">
        <button
          type="buton"
          class="btn btn-outline-danger"
          (click)="_chatService.logout()"
        >
          Salir
        </button>
      </div>


      <div class="row">
        <div class="col">
          <h1>Chat</h1>
        </div>
        <div class="col-3" *ngIf="_chatService.user.photo">
          <img [src]="_chatService.user.photo" class="img-fluid avatar" />
        </div>
      </div>
      <hr />
      <div class="app-messages" id="app-messages">
        <div
          [ngClass]="{ 'text-right': _chatService.user.uid === chat.uid }"
          *ngFor="let chat of _chatService.chats"
        >
          <span
            class="badge"
            [ngClass]="{
              'badge-primary': _chatService.user.uid === chat.uid,
              'badge-success': _chatService.user.uid !== chat.uid
            }"
            >{{ chat.name }}</span
          >
          <p>
            {{ chat.message }}
          </p>
        </div>
        
      </div>
      <hr />
      <input
        class="form-control"
        type="text"
        name="message"
        [(ngModel)]="message"
        (keyup.enter)="sendMessage()"
        placeholder="Enviar mensaje"
      />


</div>

<!-- <router-outlet></router-outlet> -->